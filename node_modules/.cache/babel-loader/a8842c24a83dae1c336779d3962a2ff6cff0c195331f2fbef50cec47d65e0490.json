{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport createPersistedState from 'vuex-persistedstate';\nimport { getUserInfoAPI } from '@/api';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    token: '',\n    // 保存token字符串\n    userInfo: {} // 用来保存用户信息\n  },\n\n  getters: {\n    nickname: state => state.userInfo.nickname,\n    // 昵称\n    username: state => state.userInfo.username,\n    // 用户名\n    user_pic: state => state.userInfo.user_pic // 用户头像\n  },\n\n  mutations: {\n    // 保存token\n    updateToken(state, val) {\n      state.token = val;\n    },\n    updateUserInfo(state, val) {\n      state.userInfo = val;\n    }\n  },\n  actions: {\n    // 用来请求用户的信息\n    async getUserInfoActions(store) {\n      const res = await getUserInfoAPI();\n      console.log(res);\n      store.commit('updateUserInfo', res.data.data);\n    }\n  },\n  modules: {},\n  plugins: [createPersistedState()]\n\n  // 注入持久化插件\n});","map":{"version":3,"names":["Vue","Vuex","createPersistedState","getUserInfoAPI","use","Store","state","token","userInfo","getters","nickname","username","user_pic","mutations","updateToken","val","updateUserInfo","actions","getUserInfoActions","store","res","console","log","commit","data","modules","plugins"],"sources":["D:/web ziliao/大事件项目/vue-event/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createPersistedState from 'vuex-persistedstate'\nimport { getUserInfoAPI } from '@/api'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    token: '', // 保存token字符串\n    userInfo: {}// 用来保存用户信息\n  },\n  getters: {\n    nickname: state => state.userInfo.nickname, // 昵称\n    username: state => state.userInfo.username, // 用户名\n    user_pic: state => state.userInfo.user_pic // 用户头像\n  },\n  mutations: {\n    // 保存token\n    updateToken (state, val) {\n      state.token = val\n    },\n    updateUserInfo (state, val) {\n      state.userInfo = val\n    }\n  },\n  actions: {\n    // 用来请求用户的信息\n    async getUserInfoActions (store) {\n      const res = await getUserInfoAPI()\n      console.log(res)\n      store.commit('updateUserInfo', res.data.data)\n    }\n  },\n  modules: {\n  },\n  plugins: [createPersistedState()]\n\n  // 注入持久化插件\n})\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,oBAAoB,MAAM,qBAAqB;AACtD,SAASC,cAAc,QAAQ,OAAO;AAEtCH,GAAG,CAACI,GAAG,CAACH,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACI,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,KAAK,EAAE,EAAE;IAAE;IACXC,QAAQ,EAAE,CAAC,CAAC;EACd,CAAC;;EACDC,OAAO,EAAE;IACPC,QAAQ,EAAEJ,KAAK,IAAIA,KAAK,CAACE,QAAQ,CAACE,QAAQ;IAAE;IAC5CC,QAAQ,EAAEL,KAAK,IAAIA,KAAK,CAACE,QAAQ,CAACG,QAAQ;IAAE;IAC5CC,QAAQ,EAAEN,KAAK,IAAIA,KAAK,CAACE,QAAQ,CAACI,QAAQ,CAAC;EAC7C,CAAC;;EACDC,SAAS,EAAE;IACT;IACAC,WAAWA,CAAER,KAAK,EAAES,GAAG,EAAE;MACvBT,KAAK,CAACC,KAAK,GAAGQ,GAAG;IACnB,CAAC;IACDC,cAAcA,CAAEV,KAAK,EAAES,GAAG,EAAE;MAC1BT,KAAK,CAACE,QAAQ,GAAGO,GAAG;IACtB;EACF,CAAC;EACDE,OAAO,EAAE;IACP;IACA,MAAMC,kBAAkBA,CAAEC,KAAK,EAAE;MAC/B,MAAMC,GAAG,GAAG,MAAMjB,cAAc,EAAE;MAClCkB,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBD,KAAK,CAACI,MAAM,CAAC,gBAAgB,EAAEH,GAAG,CAACI,IAAI,CAACA,IAAI,CAAC;IAC/C;EACF,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,OAAO,EAAE,CAACxB,oBAAoB,EAAE;;EAEhC;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}